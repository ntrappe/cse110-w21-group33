<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/pomo-info/pomo-info.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/pomo-info/pomo-info.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>class PomoInfo extends HTMLElement {
  constructor() {
    super();

    const shadow = this.attachShadow({ mode: 'open' });

    // event listener for opening info page
    this.openEvent = new CustomEvent('openEvent', {
      bubbles: true,
      composed: true,
    });

    // event listener for closing info page
    this.closeEvent = new CustomEvent('closeEvent', {
      bubbles: true,
      composed: true,
    });

    // value of accessibility
    this.accessible = true;

    // wrapper for element
    const wrapper = document.createElement('div');

    // style element for the component
    const infoStyle = document.createElement('link');
    infoStyle.setAttribute('id', 'info-styles');
    infoStyle.setAttribute('rel', 'stylesheet');
    infoStyle.setAttribute('href', './components/pomo-info/pomo-info.css');
    shadow.append(infoStyle);

    // the modal window
    const modal = document.createElement('div');
    modal.setAttribute('class', 'modal');
    modal.setAttribute('id', 'info-modal');
    modal.style.display = 'none';
    modal.onclick = (event) => {
      // close lightbox when click outside of the content area
      if (event.target === modal) {
        modal.style.display = 'none';
        shadow.dispatchEvent(this.closeEvent);
      }
    };

    // info button
    const infoButton = document.createElement('button');
    infoButton.setAttribute('id', 'info-button');

    const infoIcon = document.createElement('img');
    infoIcon.setAttribute('id', 'info-button-icon');
    infoIcon.setAttribute('src', './assets/i_info.png');
    infoIcon.textContent = 'Info';

    infoButton.appendChild(infoIcon);

    infoButton.onclick = () => {
      modal.style.display = 'block';
      shadow.dispatchEvent(this.openEvent);
    };

    // the lightbox
    const modalContent = document.createElement('div');
    modalContent.setAttribute('class', 'modal-content');
    modalContent.setAttribute('id', 'info-modal-content');

    // the main info Content
    const infoContent = document.createElement('div');
    infoContent.setAttribute('id', 'info-content');
    const title = document.createElement('h3');
    const content = document.createElement('div');
    title.innerHTML = 'HOW IT WORKS';
    content.innerHTML = `The Pomodoro Technique is a time 
    management method developed by Francesco Cirillo in the 
    late 1980s. The technique uses a timer to break down work
    into intervals, traditionally 25 minutes in length, 
    separated by short breaks, traditionally 5 minutes. After 
    4 working intervals, the break is 15 minutes`;

    // button to close the modal window
    const closeButton = document.createElement('div');
    closeButton.setAttribute('class', 'close-button');
    closeButton.setAttribute('id', 'info-close-button');
    closeButton.setAttribute('class', 'button-off');
    closeButton.onclick = () => {
      modal.style.display = 'none';
      shadow.dispatchEvent(this.closeEvent);
    };
    closeButton.innerHTML = '&amp;times;';

    /* mimic a button hover event */
    closeButton.addEventListener('mouseover', () => {
      closeButton.setAttribute('class', 'button-on');
    });

    closeButton.addEventListener('mouseout', () => {
      closeButton.setAttribute('class', 'button-off');
    });

    // add element to containers
    infoContent.appendChild(title);
    infoContent.appendChild(content);
    modalContent.appendChild(closeButton);
    modalContent.appendChild(infoContent);
    modal.appendChild(modalContent);
    wrapper.appendChild(modal);
    wrapper.appendChild(infoButton);

    shadow.appendChild(wrapper);

    // Enabled determines if this component can be opened
    this.enabled = true;

    /**
     * Allows the control to open the info page
     */
    this.enableInfo = () => {
      this.enabled = true;
      infoButton.disabled = false;
    };

    /**
     * Prevent the control from open the info page
     */
    this.disableInfo = () => {
      this.enabled = false;
      infoButton.disabled = true;
    };

    /**
     * Modify elements' data-mode to dark-mode or light-mode
     * @param {Boolean} dark  indicate whether or not the setting is in dark mode
     */
    this.setDark = (dark) => {
      if (dark) {
        infoStyle.setAttribute('href', './components/pomo-info/pomo-info.css');
        infoIcon.setAttribute('src', './assets/i_info.png');
      } else {
        infoStyle.setAttribute('href', './components/pomo-info/pomo-info-light.css');
        infoIcon.setAttribute('src', './assets/i_info_light.png');
      }
    };

    /**
     * For CONTROL to determine whether we can open info, setting, stats
     * @param {Boolean} enabled true for being able to open, false otherwise
     */
    this.setAccessibility = (enabled) => {
      this.accessible = enabled;
    };

    /**
     * Functions that opens and closes the info page with the i key
     */
    document.addEventListener('keydown', (e) => {
      if (e.key === 'i' &amp;&amp; this.accessible === true) {
        if (modal.style.display === 'block') {
          closeButton.onclick();
        } else if (this.enabled === true) {
          infoButton.onclick();
        }
      }
    });
  }
}

customElements.define('pomo-info', PomoInfo);

export default PomoInfo;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#defaultTab">defaultTab</a></li><li><a href="global.html#display">display</a></li><li><a href="global.html#getAccessibility">getAccessibility</a></li><li><a href="global.html#getCalm">getCalm</a></li><li><a href="global.html#getDark">getDark</a></li><li><a href="global.html#getDayCounts">getDayCounts</a></li><li><a href="global.html#getLongBreak">getLongBreak</a></li><li><a href="global.html#getMode">getMode</a></li><li><a href="global.html#getShortBreak">getShortBreak</a></li><li><a href="global.html#getSound">getSound</a></li><li><a href="global.html#getVolume">getVolume</a></li><li><a href="global.html#getWork">getWork</a></li><li><a href="global.html#initProgess">initProgess</a></li><li><a href="global.html#setAccessibility">setAccessibility</a></li><li><a href="global.html#setCalm">setCalm</a></li><li><a href="global.html#setDark">setDark</a></li><li><a href="global.html#setDayCounts">setDayCounts</a></li><li><a href="global.html#setLongBreak">setLongBreak</a></li><li><a href="global.html#setMode">setMode</a></li><li><a href="global.html#setProgressHelper">setProgressHelper</a></li><li><a href="global.html#setResetButton">setResetButton</a></li><li><a href="global.html#setShortBreak">setShortBreak</a></li><li><a href="global.html#setSound">setSound</a></li><li><a href="global.html#setStartButton">setStartButton</a></li><li><a href="global.html#setTab">setTab</a></li><li><a href="global.html#setTime">setTime</a></li><li><a href="global.html#setVolume">setVolume</a></li><li><a href="global.html#setWork">setWork</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu Mar 18 2021 02:57:08 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
