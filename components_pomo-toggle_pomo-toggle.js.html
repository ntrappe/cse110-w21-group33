<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/pomo-toggle/pomo-toggle.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/pomo-toggle/pomo-toggle.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module PomoToggle
 */

/* Links Used
https://stackoverflow.com/questions/44061473/move-text-on-toggle-switch-on-off
https://www.w3schools.com/howto/howto_css_switch.asp
*/
const TOGGLE_DELAY = 200;
const ENABLE_OPACITY = '1';
const DISABLE_OPACITY = '0.6';

class ToggleSwitch extends HTMLElement {
  constructor(mode1, mode2) {
    super();

    this.toggle = true;

    const shadow = this.attachShadow({ mode: 'open' });

    // Connect toggleSwitch to CSS
    const style = document.createElement('link');
    style.setAttribute('id', 'toggle-styles');
    style.setAttribute('rel', 'stylesheet');

    const toggleSwitch = document.createElement('label');
    toggleSwitch.setAttribute('class', 'switch');

    const toggleCheckbox = document.createElement('input');
    toggleCheckbox.setAttribute('type', 'checkbox');
    toggleCheckbox.setAttribute('disabled', 'disabled');

    const toggleSlider = document.createElement('div');
    toggleSlider.setAttribute('class', 'slider');
    toggleSlider.setAttribute('id', `${mode1}-slider`);

    const onMode = document.createElement('span');
    onMode.setAttribute('class', 'on-mode');
    onMode.setAttribute('id', `${mode1}-mode`);
    onMode.textContent = 'On';

    const offMode = document.createElement('span');
    offMode.setAttribute('class', 'off-mode');
    offMode.setAttribute('id', `${mode2}-mode`);
    offMode.textContent = 'Off';

    shadow.append(style);
    shadow.appendChild(toggleSwitch);
    toggleSwitch.appendChild(toggleCheckbox);
    toggleSwitch.appendChild(toggleSlider);
    toggleSlider.appendChild(onMode);
    toggleSlider.appendChild(offMode);

    this.toggleSwitchEvent = new CustomEvent('toggleSwitch', {
      bubbles: true,
      composed: true,
      detail: { toggle: () => this.toggle },
    });

    /**
     * Toggle slider from one mode to another on click with delay
     */
    toggleSlider.onclick = () => {
      if (this.toggle) {
        this.setOff();
        shadow.dispatchEvent(this.toggleSwitchEvent);
      } else {
        this.setOn();
        shadow.dispatchEvent(this.toggleSwitchEvent);
      }
      toggleSlider.style.pointerEvents = 'none';
      setTimeout(() => {
        toggleSlider.style.pointerEvents = 'auto';
      }, TOGGLE_DELAY);
    };

    /**
     * @method
     * Helper function to toggle slider on
     */
    this.setOn = () => {
      toggleCheckbox.checked = false;
      offMode.style.display = 'none';
      onMode.style.display = 'block';
      this.toggle = true;
    };

    /**
     * @method
     * Helper function to toggle slider off
     */
    this.setOff = () => {
      toggleCheckbox.checked = true;
      offMode.style.display = 'block';
      onMode.style.display = 'none';
      this.toggle = false;
    };

    /**
     * @method
     * Helper function to enable toggle switch
     */
    this.enable = () => {
      toggleSlider.style.pointerEvents = 'auto';
      toggleSlider.style.opacity = ENABLE_OPACITY;
    };

    /**
     * @method
     * Helper function to disable toggle switch
     */
    this.disable = () => {
      toggleSlider.style.pointerEvents = 'none';
      toggleSlider.style.opacity = DISABLE_OPACITY;
    };

    /**
     * @method
     * Toggles light/dark color scheme for toggle switch
     * @param {Boolean} dark turn dark color scheme if dark mode is on
     */
    this.setDark = (dark) => {
      if (dark) {
        style.setAttribute('href', './components/pomo-toggle/pomo-toggle.css');
      } else {
        style.setAttribute('href', './components/pomo-toggle/pomo-toggle-light.css');
      }
    };
  }
}
customElements.define('toggle-switch', ToggleSwitch);

export default ToggleSwitch;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Main.html">Main</a></li><li><a href="module-PomoFinish.html">PomoFinish</a></li><li><a href="module-PomoInfo.html">PomoInfo</a></li><li><a href="module-PomoSettings.html">PomoSettings</a></li><li><a href="module-PomoTab.html">PomoTab</a></li><li><a href="module-PomoTimerHelpers.html">PomoTimerHelpers</a></li><li><a href="module-PomoToggle.html">PomoToggle</a></li><li><a href="module-Resize.html">Resize</a></li><li><a href="module-Storage.html">Storage</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Allowsthesoundtobeplayed">Allows the sound to be played</a></li><li><a href="global.html#ForCONTROLtodetermineiftimertextdisplaywillshownormalminutes&secondsorjustminutes">For CONTROL to determine if timer text display will show normal
minutes & seconds or just minutes</a></li><li><a href="global.html#ForCONTROLtodeterminewhethertousedefaultdarkstylingoruselighttooverridesomecolorsofdark">For CONTROL to determine whether to use default dark styling
or use light to override some colors of dark</a></li><li><a href="global.html#ForCONTROLtosettimeonclockforcurrentmode">For CONTROL to set time on clock for current mode</a></li><li><a href="global.html#ForCONTROLtoupdatesquaresonscreentomatchnumberofbreakstaken">For CONTROL to update squares on screen to match number of breaks taken</a></li><li><a href="global.html#Fortransformingthewholeobject">For transforming the whole object</a></li><li><a href="global.html#Playthecurrentsoundatthecurrentvolume">Play the current sound at the current volume</a></li><li><a href="global.html#Preventsthesoundfrombeingplayed">Prevents the sound from being played</a></li><li><a href="global.html#Setlocationofthesoundtobeplayed">Set location of the sound to be played</a></li><li><a href="global.html#Setthevolumeoftheaudiocomponent">Set the volume of the audio component</a></li><li><a href="global.html#Usedforallowingkeyboardshortcuts">Used for allowing keyboard shortcuts</a></li><li><a href="global.html#Usedforpreventingkeyboardshortcuts">Used for preventing keyboard shortcuts</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Fri Mar 19 2021 05:26:52 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
